<!DOCTYPE html>

<head>

  <title>Keep that Screen On!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

</head>

<body>

  <div>Press button to Toggle Keep Screen On</div>
  <input type="button" id="toggleKeepScreenOn" value="Turn Keep Screen ON">

</body>

<!-- Javascript Files -->
<script>

var videoIsPlaying = false;
var toggleButton = document.querySelector("#toggleKeepScreenOn");
toggleButton.addEventListener("click", function () {
  console.log ( videoIsPlaying)
  if ( videoIsPlaying ) {
    keepScreenOn.stopVideo ();
    videoIsPlaying = false;
    toggleButton.value = "Turn Keep Screen ON";
    document.body.style.backgroundColor = "white";
  } else {
    keepScreenOn.startVideo();
    videoIsPlaying = true;
    toggleButton.value = "Turn Keep Screen OFF";
    document.body.style.backgroundColor = "lightblue";
  }
})

var keepScreenOn = new KeepScreenOn ();

function KeepScreenOn () {
  var keepScreenOnVideo = document.createElement("video");
  keepScreenOnVideo.width = "1"
  keepScreenOnVideo.height = "1"
  keepScreenOnVideo.loop = true;
  var blankVideo = document.createElement("source");
  blankVideo.src = "blank_video16x9.mp4";
  blankVideo.type = "video/mp4"
  keepScreenOnVideo.appendChild(blankVideo);
  document.body.appendChild ( keepScreenOnVideo );

  keepScreenOnVideo.addEventListener("play", function () {
    console.log ("Video is playing");
  })

  keepScreenOnVideo.addEventListener("ended", function () {
    console.log ("Video is ended");
  })

  keepScreenOnVideo.addEventListener("pause", function () {
    console.log ("Video is paused");
  })

  this.startVideo = function () {
    keepScreenOnVideo.play();
  }
  this.stopVideo = function () {
    keepScreenOnVideo.pause();
  }
}

</script>
